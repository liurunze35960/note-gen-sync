## 第一章：绘图的哲学——画布与画笔

在 MATLAB 中，每一次绘图都始于一个**图形窗口 (Figure)**，这便是你的**画布**。在这块画布上，真正承载内容的区域叫做**坐标区 (Axes)**。我们所有的创作，都在这个坐标区内完成。

而你手中最核心的工具，那支描绘万物的**画笔**，就是 `plot` 函数。

## 第二章：一切始于 `plot`——绘制二维曲线

`plot` 是二维绘图的基石。它的最简形式是 `plot(x, y)`，其中 `x` 和 `y` 是包含数据的向量。MATLAB 会将 `x` 和 `y` 中对应的点一一连接，形成一条曲线。

**一个最简单的开始：**

```
% 准备数据
x = 0:0.1:2*pi; % 从 0 到 2π，步长为 0.1
y = sin(x);     % 计算每个 x 点的正弦值

% 绘制
figure;         % 创建一个新的图形窗口（画布）
plot(x, y);     % 用 plot 函数绘制
```

这串代码会生成一个包含标准蓝色正弦曲线的图形窗口。但一条简单的线往往不足以传达丰富的信息。我们可以通过添加参数，精细地控制这条线的外观。

**控制线条的风格、颜色与标记：**

`plot` 函数允许一个额外的字符串参数来定义线条的样式。这个字符串由**颜色、线型、标记**三部分组成，顺序可以任意，也可以只包含其中一两种。

```
% 绘制一条红色、虚线、带圆圈标记的正弦曲线
plot(x, y, 'r--o'); 
```

- `'r'` 代表红色 (red)。

- `'--'` 代表虚线 (dashed line)。

- `'o'` 代表在每个数据点上放置一个圆形标记 (circle marker)。

**常用样式速查：**

|        |        |        |        |        |        |
| ------ | ------ | ------ | ------ | ------ | ------ |
| **符号** | **颜色** | **符号** | **线型** | **符号** | **标记** |
| `b`    | 蓝      | `-`    | 实线     | `o`    | 圆圈     |
| `g`    | 绿      | `--`   | 虚线     | `+`    | 加号     |
| `r`    | 红      | `:`    | 点线     | `*`    | 星号     |
| `k`    | 黑      | `-.`   | 点划线    | `.`    | 点      |
| `m`    | 洋红     |        |        | `x`    | 叉      |
| `c`    | 青      |        |        | `s`    | 方块     |

## 第三章：丰富画布——修饰你的图表

一幅没有文字说明的图是沉默的，观众无法理解其深意。我们需要为图表添加**上下文**，使其能够自我解释。

- `title()`: 为图表赋予一个**标题**，点明主旨。

- `xlabel()`: 解释 **x 轴**代表的物理意义或变量。

- `ylabel()`: 解释 **y 轴**代表的物理意义或变量。

- `grid on`: 显示**网格线**，方便精确读数。

- `axis()`: 控制坐标轴的**范围**。例如 `axis([xmin xmax ymin ymax])`。

- `xlim()` 和 `ylim()`: 单独控制 x 轴或 y 轴的范围。

**一个带有修饰的例子：**

```
x = 0:0.1:2*pi;
y = sin(x);
plot(x, y, 'm-.s');

title('正弦函数图像');
xlabel('弧度 (radians)');
ylabel('函数值');
grid on;
axis([0, 2*pi, -1.2, 1.2]); % 设置 x 轴范围 0 到 2π，y 轴范围 -1.2 到 1.2
```

现在，这张图不仅展示了数据，还清楚地说明了它是什么，以及如何解读。

## 第四章：多重叙事——在同一张图上叠加信息

故事往往不止一个主角。当我们需要比较多组数据时，就需要在一个坐标区内绘制多条曲线。这就引出了我们讨论过的核心命令：`hold on`。

**`hold on`** 告诉 MATLAB：“**请保持住当前的画布，不要擦除**”。执行它之后，所有的绘图命令都会在前一幅图的基础上进行叠加。与之相对的 **`hold off`** 则关闭这种保持状态。

当然，当多条曲线出现时，我们就必须请出图表的**解说员**：**`legend()`**。它会创建一个图例，解释每条曲线分别代表什么。

**叠加绘图的经典范式：**

```
x = 0:0.1:2*pi;
y1 = sin(x);
y2 = cos(x);

figure; % 创建新画布

% 绘制第一条线，并为其指定一个用于图例的名称
plot(x, y1, 'r-', 'DisplayName', '正弦函数');

hold on; % 保持画布

% 绘制第二条线，并同样为其命名
plot(x, y2, 'b--', 'DisplayName', '余弦函数');

hold off; % 释放画布

grid on;
title('正弦与余弦函数');
xlabel('弧度');
ylabel('函数值');
legend; % 调用 legend，它会自动寻找所有拥有 DisplayName 的图形
```

这里，我们使用了更稳健的 **`'DisplayName'`** 属性来为曲线命名，然后只需一个不带参数的 `legend` 命令即可生成准确的图例。这是**强烈推荐**的做法。

## 第五章：超越曲线——其他核心绘图类型

`plot` 擅长描绘连续的趋势，但数据形态各异，我们需要更多样的画笔。

- **`scatter()`**: 绘制**散点图**。当你想观察两个变量之间的关系，但它们之间没有明确的线性连接时，散点图是最佳选择。

- **`bar()`**: 绘制**条形图**。用于比较不同类别的数据量大小。

- **`histogram()`**: 绘制**直方图**。用于展示一组数据的**分布情况**，即数据落在不同区间的频率。

- **`pie()`**: 绘制**饼图**。用于展示各部分占整体的**百分比**。

```
% 散点图示例
x_scatter = randn(1, 100);
y_scatter = x_scatter + randn(1, 100);
scatter(x_scatter, y_scatter);
title('散点图');

% 条形图示例
categories = {'A', 'B', 'C', 'D'};
values = [15, 40, 28, 52];
bar(categories, values);
title('条形图');
```

## 第六章：画板的布局——管理多个子图

有时，我们需要将多个相关的图并列展示，以构成一个更宏大的叙事。这时，**`subplot()`** 就派上了用场。它能将一个图形窗口分割成一个 `m` 行 `n` 列的网格，并允许你在第 `p` 个位置上创建坐标区。

**`subplot(m, n, p)` 的逻辑：**

想象一个 `m x n` 的网格，`p` 从左到右、从上到下地对网格进行编号，从 1 开始。

```
figure;

% 在一个 2x2 的网格中，激活第 1 个位置
subplot(2, 2, 1); 
x = linspace(-5, 5);
y = x.^2;
plot(x, y);
title('平方函数');

% 激活第 2 个位置
subplot(2, 2, 2);
plot(sin(x));
title('正弦函数');

% 激活第 3 个位置
subplot(2, 2, 3);
bar([5 8 2 4]);
title('条形图');

% 激活第 4 个位置
subplot(2, 2, 4);
scatter(rand(1,50), rand(1,50));
title('散点图');
```

## 第七章：高级定制——对象句柄的力量

在 MATLAB 中，你绘制的**每一个元素**——线条、坐标轴、标题、图例——都是一个**对象**。每个对象都有一系列的**属性**（如颜色、线宽、字体大小等），你可以通过获取该对象的**句柄 (Handle)** 来访问和修改这些属性。

这是一种更**程序化、更精确**的控制方式。

```matlab
x = linspace(0, 10, 100);
y = sin(x) .* exp(-0.1*x);

% 在绘图时，获取线条对象的句柄
h_line = plot(x, y);

% 使用句柄修改属性
h_line.Color = [0.8, 0.2, 0.2]; % 使用 RGB 值设置颜色
h_line.LineWidth = 3;          % 设置线宽为 3
h_line.Marker = 'd';           % 设置标记为菱形
h_line.MarkerEdgeColor = 'k';  % 设置标记边缘颜色为黑色

% 获取当前坐标区的句柄
ax = gca; % gca = Get Current Axes
ax.FontSize = 14;
ax.GridAlpha = 0.5; % 设置网格线透明度

% 获取当前图形窗口的句柄
fig = gcf; % gcf = Get Current Figure
fig.Color = [0.9, 0.9, 0.9]; % 设置图形窗口背景色
```

通过句柄，你可以对图表的每一个细节进行像素级的完美控制。

## 第八章：保存与分享——将洞见固化

当你完成一幅满意的作品后，需要将其保存下来。**`saveas()`** 函数可以帮你实现。

```
% 将当前图形窗口保存为 PNG 图片
saveas(gcf, 'my_beautiful_plot.png');

% 保存为高质量的 EPS 格式，常用于学术出版
saveas(gcf, 'my_publication_plot.eps', 'epsc');
```

## 结语

从一个简单的 `plot(x, y)` 命令出发，我们踏上了一段从原始数据到深刻洞见的旅程。我们学会了如何修饰图表，如何叠加信息，如何选择合适的图表类型，如何布局，甚至如何通过句柄进行深度定制。

请记住，**绘图不仅仅是执行命令，更是一种沟通的艺术**。一份好的图表，应当像一篇好的文章，清晰、有力，能够不言自明地传达其核心思想。希望这份手册能成为你在这条道路上的得力助手。